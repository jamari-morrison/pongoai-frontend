import { __assign } from "tslib";
import { styleBucketOrdering } from '@fluentui/make-styles';
import * as React from 'react';
/**
 * This method returns a list of <style> React elements with the rendered CSS. This is useful for Server-Side rendering.
 *
 * @public
 */

export function renderToStyleElements(renderer) {
  var styles = styleBucketOrdering.reduce(function (acc, bucketName) {
    var _a;

    return __assign(__assign({}, acc), (_a = {}, _a[bucketName] = [], _a));
  }, {}); // eslint-disable-next-line guard-for-in

  for (var cssRule in renderer.insertionCache) {
    var bucketName = renderer.insertionCache[cssRule];
    styles[bucketName].push(cssRule);
  }

  return Object.keys(styles).map(function (bucketName) {
    var cssRules = styles[bucketName].join(''); // We don't want to create empty style elements

    if (cssRules.length === 0) {
      return null;
    }

    return /*#__PURE__*/React.createElement('style', {
      key: bucketName,
      // TODO: support "nonce"
      // ...renderer.styleNodeAttributes,
      'data-make-styles-bucket': bucketName || 'default',
      'data-make-styles-rehydration': true,
      dangerouslySetInnerHTML: {
        __html: cssRules
      }
    });
  }).filter(Boolean);
}
//# sourceMappingURL=renderToStyleElements.js.map