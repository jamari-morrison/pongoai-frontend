"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useTimeout = void 0;

var React = /*#__PURE__*/require("react");

var useConst_1 = /*#__PURE__*/require("./useConst");
/**
 * Helper to manage a browser timeout.
 * Ensures that the timeout isn't set multiple times at once,
 * and is cleaned up when the component is unloaded.
 *
 * @returns A pair of [setTimeout, clearTimeout] that are stable between renders.
 */


function useTimeout() {
  var timeout = useConst_1.useConst(function () {
    return {
      id: undefined,
      set: function (fn, delay) {
        timeout.clear();
        timeout.id = setTimeout(fn, delay);
      },
      clear: function () {
        if (timeout.id !== undefined) {
          clearTimeout(timeout.id);
          timeout.id = undefined;
        }
      }
    };
  }); // Clean up the timeout when the component is unloaded

  React.useEffect(function () {
    return timeout.clear;
  }, [timeout]);
  return [timeout.set, timeout.clear];
}

exports.useTimeout = useTimeout;
//# sourceMappingURL=useTimeout.js.map