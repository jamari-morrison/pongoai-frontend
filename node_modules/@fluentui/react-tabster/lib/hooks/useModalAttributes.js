import { useId } from '@fluentui/react-utilities';
import { useTabsterAttributes } from './useTabsterAttributes';
import { getDeloser, getModalizer } from 'tabster';
import { useTabster } from './useTabster';
/**
 * Applies modal dialog behaviour through DOM attributes
 * Modal element will focus trap and hide other content on the page
 * The trigger element will be focused if focus is lost after the modal element is removed
 *
 * @returns DOM attributes to apply to the modal element and its trigger
 */

export var useModalAttributes = function (options) {
  if (options === void 0) {
    options = {};
  }

  var trapFocus = options.trapFocus,
      alwaysFocusable = options.alwaysFocusable;
  var tabster = useTabster(); // Initializes the modalizer and deloser APIs

  if (tabster) {
    getModalizer(tabster);
    getDeloser(tabster);
  }

  var id = useId('modal-');
  var modalAttributes = useTabsterAttributes({
    deloser: {},
    modalizer: {
      id: id,
      isOthersAccessible: !trapFocus,
      isAlwaysAccessible: alwaysFocusable
    }
  });
  var triggerAttributes = useTabsterAttributes({
    deloser: {}
  });
  return {
    modalAttributes: modalAttributes,
    triggerAttributes: triggerAttributes
  };
};
//# sourceMappingURL=useModalAttributes.js.map